(function(){"use strict";var t={2474:function(t,e,o){var n=o(5471),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("Posts")]),t._v(" | "),e("router-link",{attrs:{to:"/two"}},[t._v("Uploud")])],1),e("router-view")],1)},i=[],a=o(1656),l={},r=(0,a.A)(l,s,i,!1,null,null,null),c=r.exports,d=o(5453);n.Ay.use(d.A);var u=new d.A({}),f=o(173),p=o(6521),h=o(1689),v=o(8834),m=o(9867),y=o(3129),b=o(4089),g=o(9940),k=o(7402),P=function(){var t=this,e=t._self._c;return e(m.A,[e(p.A,{on:{click:t.openCreatePostDialog}},[t._v("Add Post")]),e(y.A,{attrs:{headers:t.headers,items:t.posts,"item-key":"id",options:t.options},on:{"update:options":function(e){t.options=e},"click:row":t.openPostDetails},scopedSlots:t._u([{key:"item.actions",fn:function({item:o}){return[e(p.A,{on:{click:function(e){return e.stopPropagation(),t.editPost(o)}}},[t._v("Edit")]),e(p.A,{on:{click:function(e){return e.stopPropagation(),t.deletePost(o)}}},[t._v("Delete")])]}}])}),[e(b.A,{attrs:{"max-width":"500px",attach:"#app"},model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[e(h.A,[e(v.ri,[t._v(t._s(t.isEditMode?"Edit Post":"Add Post"))]),e(v.OQ,[e(g.A,{attrs:{label:"Title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),e(k.A,{attrs:{label:"Body"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),e(v.SL,{staticClass:"posts-bottons-section"},[e(p.A,{attrs:{color:"black"},on:{click:t.savePost}},[t._v("Save")]),e(p.A,{attrs:{color:"black"},on:{click:t.closeDialog}},[t._v("Cancel")])],1)],1)],1)]],2)},A=[],w=o(3957),_=o.n(w),D={data(){return{posts:[],headers:[{text:"ID",value:"id"},{text:"Title",value:"title"},{text:"Body",value:"body"},{text:"Actions",value:"actions"}],options:{page:1,itemsPerPage:5,sortBy:[],sortDesc:[]},createDialog:!1,isEditMode:!1,form:{id:null,title:"",body:""}}},methods:{async fetchPosts(){try{const t=await _().get("https://2264c69973bfa56d.mokky.dev/posts");this.posts=t.data}catch(t){console.error("Error fetching posts:",t)}},openCreatePostDialog(){this.form={title:"",body:""},this.isEditMode=!1,this.createDialog=!0},async savePost(){try{if(this.isEditMode){const t=await _().patch(`https://2264c69973bfa56d.mokky.dev/posts/${this.form.id}`,this.form);console.log("Post updated:",t.data),alert("Post updated")}else{const t=await _().post("https://2264c69973bfa56d.mokky.dev/posts",this.form);console.log("Post created:",t.data),alert("Post created")}this.createDialog=!1,this.fetchPosts()}catch(t){console.error("Error saving post:",t)}},async editPost(t){this.form={...t},this.isEditMode=!0,this.createDialog=!0},async deletePost(t){const e=confirm("Are you sure you want to delete this post?");e&&(await _()["delete"](`https://2264c69973bfa56d.mokky.dev/posts/${t.id}`),this.fetchPosts())},openPostDetails(t){this.editPost(t),console.log(t)},closeDialog(){this.createDialog=!1}},mounted(){this.fetchPosts()}},x=D,O=(0,a.A)(x,P,A,!1,null,null,null),C=O.exports,j=o(8),S=function(){var t=this,e=t._self._c;return e(m.A,[e(j.A,{attrs:{label:"Choose a file"},on:{change:t.onFileChange},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),e("section",{staticClass:"bottons-section"},[e(p.A,{attrs:{disabled:!t.file},on:{click:t.sendFile}},[t._v("Send")]),e(p.A,{attrs:{disabled:!t.fileSent},on:{click:t.downloadFile}},[t._v("Download")])],1)],1)},E=[],F=o(4213),M={data(){return{file:null,fileSent:!1,downloadUrl:null,fileName:null}},methods:{onFileChange(t){this.file=t},async sendFile(){try{const t=new FormData;t.append("file",this.file);const e=await _().post("https://api.escuelajs.co/api/v1/files/upload",t,{headers:{"Content-Type":"multipart/form-data"}});console.log(e),this.downloadUrl=e.data.location,this.fileName=e.data.originalname,this.fileSent=!0,alert("File sent successfully")}catch(t){console.log("Failed to send file",t)}},downloadFile(){this.downloadUrl&&((0,F.saveAs)(this.downloadUrl,this.fileName),this.fileName=null)}}},T=M,U=(0,a.A)(T,S,E,!1,null,null,null),$=U.exports;n.Ay.use(f.Ay);const N=[{path:"*",name:"PostsComp",component:C},{path:"/two",name:"UploudComp",component:$}],B=new f.Ay({mode:"history",base:"/makskonsalt-project/one/",routes:N});var I=B;n.Ay.config.productionTip=!1,new n.Ay({vuetify:u,router:I,render:t=>t(c)}).$mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,i){if(!n){var a=1/0;for(d=0;d<t.length;d++){n=t[d][0],s=t[d][1],i=t[d][2];for(var l=!0,r=0;r<n.length;r++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[r])}))?n.splice(r--,1):(l=!1,i<a&&(a=i));if(l){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[n,s,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,a=n[0],l=n[1],r=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(r)var d=r(o)}for(e&&e(n);c<a.length;c++)i=a[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(d)},n=self["webpackChunkmakskonsalt_project"]=self["webpackChunkmakskonsalt_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(2474)}));n=o.O(n)})();
//# sourceMappingURL=app.8c086fcf.js.map